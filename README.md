# TransportCatalogue

TransportCatalogue - это проект на C++, который предоставляет функционал для управления и обработки данных о транспорте. Включает функции создания базы данных транспорта, обработки запросов и создания картографических отображений.

Принимает на вход данные JSON-формата и выдает ответ в виде SVG-файла, визуализирующего остановки и маршруты. Находит кратчайший маршрут между остановками. Для ускорения вычислений сделана сериализация базы справочника через Google Protobuf. Реализован конструктор JSON, позволяющий находить неправильную последовательность методов на этапе компиляции.

## Требования к сборке проекта

Необходимое программное обеспечение Перед сборкой и запуском проекта убедитесь, что у вас установлено следующее программное обеспечение на вашей системе:

- Компилятор C++ с поддержкой C++17
- CMake (версия 3.10 или выше)
- Библиотека Protobuf

### Сборка проекта
1. Клонируйте репозиторий или загрузите исходный код.
2. Создайте каталог для сборки и перейдите в него:
```
mkdir build
cd build
```
3. Установить Google Protobuf. Скачать с [официального репозитория](https://github.com/protocolbuffers/protobuf/releases) архив protobuf-cpp и распаковать его на компьютере.
4. Создать папки build-debug и build-release для сборки двух конфигураций Protobuf. Предварительно создать папку package, в которую будет складываться пакет Protobuf.
5. Собрать и установить проект (в примере сборка Debug) следующими командами:
```
cmake path\protobuf-3.15.8\cmake -DCMAKE_SYSTEM_VERSION=10.0.17763.0 -DCMAKE_BUILD_TYPE=Debug \ -Dprotobuf_BUILD_TESTS=OFF 
\ -DCMAKE_INSTALL_PREFIX=path\protobuf-3.15.8\package
cmake --build .
cmake --install . 
```
6. В папке package появился bin\protoc.exe - с помощью него будут копилироваться proto-файлы, а в папке lib - статические библиотеки для работы с Protobuf.
7. Для компиляции proto-файла нужно выполнить следующую команду:  
`<путь к пакету Protobuf>\bin\proto --cpp_out . transport_catalogue.proto`  
8. Сгенерируйте файлы сборки с помощью CMake: `cmake ..`
9. Соберите проект: `cmake --build .`

### Использование

Проект TransportCatalogue поддерживает два режима работы: make_base и process_requests. Ниже приведены примеры использования каждого режима.

### Режим `make_base`

В режиме `make_base` вы можете создать базу данных транспорта, предоставив JSON файл с данными о транспорте. Программа считывает данные JSON из стандартного ввода и создает базу данных.

Пример использования:

```shell
./transport_catalogue make_base < transport_data.json
```

Замените transport_data.json на путь к вашему собственному JSON файлу.

### Режим `process_requests`

В режиме `process_requests` вы можете выполнять запросы и получать ответы на основе ранее созданной базы данных транспорта. Запросы предоставляются в формате JSON, и программа считывает данные JSON из стандартного ввода.

Пример использования:

```shell
./transport_catalogue process_requests < requests.json
```

Замените requests.json на путь к вашему собственному файлу с запросами.
